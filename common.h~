#ifndef COMMON_H
#define COMMON_H

#include <mega64a.h>
#include <stdio.h>

// --- ÊæÇÈÚ UART / AT ---
void send_at_command(char *command);
void uart_flush0(void);
unsigned char read_serial_response(char* buffer, int buffer_size, int timeout_ms, const char* expected_response);  // ÍáŞå ÈíäåÇíÊ
unsigned char read_serial_timeout_simple(char* buffer, int buffer_size, unsigned long timeout_ms);

// --- ãÊÛíÑåÇí ÎÇÑÌí USART0 ˜å Çíä ÊæÇÈÚ ÇÓÊİÇÏå ãí˜ääÏ ---
extern unsigned char rx_counter0;
extern unsigned char rx_wr_index0;
extern unsigned char rx_rd_index0;
extern bit rx_buffer_overflow0;
extern char getchar(void);

#endif
